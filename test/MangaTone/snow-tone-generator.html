<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>方向性ブラー付き楕円形雪のトーン生成器</title><style>body{background-color:#333;display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Arial,sans-serif;color:#fff}canvas{border:1px solid #ccc}#controls{margin-bottom:20px;display:grid;grid-template-columns:auto auto;gap:10px}input,label{margin-right:10px}</style></head><body><h1>方向性ブラー付き楕円形雪のトーン生成器</h1><div id="controls"><label for="snowDensity">雪の密度:</label> <input type="range" id="snowDensity" min="50" max="500" value="200"> <label for="frontSnowSize">手前の雪サイズ:</label> <input type="range" id="frontSnowSize" min="5" max="20" value="10"> <label for="backSnowSize">奥の雪サイズ:</label> <input type="range" id="backSnowSize" min="1" max="10" value="3"> <label for="frontBlurLength">手前のブラーの長さ:</label> <input type="range" id="frontBlurLength" min="0" max="50" value="20"> <label for="backBlurLength">奥のブラーの長さ:</label> <input type="range" id="backBlurLength" min="0" max="25" value="5"> <label for="frontColor">手前の雪の色:</label> <input type="color" id="frontColor" value="#FFFFFF"> <label for="backColor">奥の雪の色:</label> <input type="color" id="backColor" value="#CCCCCC"> <label for="snowAngle">雪の角度 (度):</label> <input type="range" id="snowAngle" min="0" max="180" value="90"> <button id="generate">生成</button></div><canvas id="canvas" width="500" height="500"></canvas><script>const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),snowDensity=document.getElementById("snowDensity"),frontSnowSize=document.getElementById("frontSnowSize"),backSnowSize=document.getElementById("backSnowSize"),frontBlurLength=document.getElementById("frontBlurLength"),backBlurLength=document.getElementById("backBlurLength"),frontColor=document.getElementById("frontColor"),backColor=document.getElementById("backColor"),snowAngle=document.getElementById("snowAngle"),generateBtn=document.getElementById("generate");function drawSnowflake(t,e,n,o,a,r){ctx.save(),ctx.translate(t,e),ctx.rotate(r*Math.PI/180);const l=ctx.createLinearGradient(0,-n/2-o,0,n/2+o);l.addColorStop(0,"rgba(255,255,255,0)"),l.addColorStop(.5-n/(4*o),"rgba(255,255,255,0)"),l.addColorStop(.5,a),l.addColorStop(.5+n/(4*o),"rgba(255,255,255,0)"),l.addColorStop(1,"rgba(255,255,255,0)"),ctx.beginPath(),ctx.ellipse(0,0,n/4,n/2+o,0,0,2*Math.PI),ctx.fillStyle=l,ctx.fill(),ctx.restore()}function interpolateColor(t,e,n){const o=parseInt(t.substr(1,2),16),a=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),l=parseInt(e.substr(1,2),16),c=parseInt(e.substr(3,2),16),s=parseInt(e.substr(5,2),16);return`rgb(${Math.round(o+n*(l-o))}, ${Math.round(a+n*(c-a))}, ${Math.round(r+n*(s-r))})`}function generateSnowTone(){ctx.fillStyle="black",ctx.fillRect(0,0,canvas.width,canvas.height);const t=parseInt(snowDensity.value),e=parseInt(frontSnowSize.value),n=parseInt(backSnowSize.value),o=parseInt(frontBlurLength.value),a=parseInt(backBlurLength.value),r=parseInt(snowAngle.value);for(let l=0;l<t;l++){const t=Math.random()*canvas.width,l=Math.random()*canvas.height,c=Math.random();drawSnowflake(t,l,n+(e-n)*c,a+(o-a)*c,interpolateColor(backColor.value,frontColor.value,c),r)}}generateBtn.addEventListener("click",generateSnowTone),generateSnowTone()</script></body></html>