<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>漫画トーンジェネレーター</title><script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script><style>body{font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px}#controls{margin-bottom:20px;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.control-group{display:flex;flex-direction:column;align-items:flex-start}label{margin-right:10px}input,select{margin-bottom:10px}#canvas-container{border:1px solid #ccc}</style></head><body><h1>漫画トーンジェネレーター</h1><div id="controls"><div class="control-group"><label for="dotSize">ドットサイズ:</label> <input type="range" id="dotSize" min="1" max="10" value="3"></div><div class="control-group"><label for="dotSpacing">ドット間隔:</label> <input type="range" id="dotSpacing" min="1" max="20" value="5"></div><div class="control-group"><label for="gradientDirection">グラデーション方向:</label> <select id="gradientDirection"><option value="top-bottom">上から下</option><option value="bottom-top">下から上</option><option value="left-right">左から右</option><option value="right-left">右から左</option></select></div><div class="control-group"><label for="gradientStart">グラデーション開始位置 (%):</label> <input type="number" id="gradientStart" min="0" max="100" value="0"></div><div class="control-group"><label for="gradientEnd">グラデーション終了位置 (%):</label> <input type="number" id="gradientEnd" min="0" max="100" value="100"></div><button id="generate">生成</button></div><div id="canvas-container"><canvas id="canvas" width="500" height="500"></canvas></div><script>const canvas=new fabric.Canvas("canvas"),dotSizeInput=document.getElementById("dotSize"),dotSpacingInput=document.getElementById("dotSpacing"),gradientDirectionSelect=document.getElementById("gradientDirection"),gradientStartInput=document.getElementById("gradientStart"),gradientEndInput=document.getElementById("gradientEnd"),generateButton=document.getElementById("generate");function generateTone(){canvas.clear();const e=parseInt(dotSizeInput.value),t=parseInt(dotSpacingInput.value),n=gradientDirectionSelect.value,a=parseInt(gradientStartInput.value)/100,r=parseInt(gradientEndInput.value)/100,d=500;for(let c=0;c<d;c+=t)for(let i=0;i<d;i+=t){let t;switch(n){case"top-bottom":t=c/d;break;case"bottom-top":t=1-c/d;break;case"left-right":t=i/d;break;case"right-left":t=1-i/d}let o=(t-a)/(r-a);o=Math.max(0,Math.min(1,o));const l=new fabric.Circle({left:i,top:c,radius:e/2,fill:`rgba(0, 0, 0, ${1-o})`,selectable:!1});canvas.add(l)}canvas.renderAll()}generateButton.addEventListener("click",generateTone),generateTone()</script></body></html>