<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ノイズグラデーション漫画トーン生成器</title><style>body{font-family:sans-serif;margin:20px}canvas{border:1px solid #ccc}.controls{margin-top:10px}.control{margin-bottom:5px}label{display:inline-block;width:180px}</style></head><body><canvas id="canvas" width="400" height="400"></canvas><div class="controls"><div class="control"><label for="colorPicker">色:</label> <input type="color" id="colorPicker" value="#000000"></div><div class="control"><label for="noiseMinSlider">ノイズ最小量:</label> <input type="range" id="noiseMinSlider" min="0" max="100" value="0"></div><div class="control"><label for="noiseMaxSlider">ノイズ最大量:</label> <input type="range" id="noiseMaxSlider" min="0" max="100" value="100"></div><div class="control"><label for="gradientStartX">グラデーション開始 X:</label> <input type="range" id="gradientStartX" min="0" max="400" value="0"></div><div class="control"><label for="gradientStartY">グラデーション開始 Y:</label> <input type="range" id="gradientStartY" min="0" max="400" value="0"></div><div class="control"><label for="gradientEndX">グラデーション終了 X:</label> <input type="range" id="gradientEndX" min="0" max="400" value="400"></div><div class="control"><label for="gradientEndY">グラデーション終了 Y:</label> <input type="range" id="gradientEndY" min="0" max="400" value="400"></div></div><script>!function(){const e=document.getElementById("canvas"),t=e.getContext("2d"),n=document.getElementById("colorPicker"),d=document.getElementById("noiseMinSlider"),a=document.getElementById("noiseMaxSlider"),r=document.getElementById("gradientStartX"),i=document.getElementById("gradientStartY"),u=document.getElementById("gradientEndX"),o=document.getElementById("gradientEndY");function s(n,d,a){const s=t.createImageData(e.width,e.height),c=s.data,l=function(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(n),g=parseInt(r.value),m=parseInt(i.value),I=parseInt(u.value),p=parseInt(o.value);for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){const r=4*(t*e.width+n),i=I-g,u=p-m,o=d+((n-g)*i+(t-m)*u)/(i*i+u*u)*(a-d);100*Math.random()<o?(c[r]=l.r,c[r+1]=l.g,c[r+2]=l.b,c[r+3]=255):(c[r]=255,c[r+1]=255,c[r+2]=255,c[r+3]=0)}return s}function c(){const e=s(n.value,parseInt(d.value),parseInt(a.value));t.putImageData(e,0,0)}n.addEventListener("input",c),d.addEventListener("input",c),a.addEventListener("input",c),r.addEventListener("input",c),i.addEventListener("input",c),u.addEventListener("input",c),o.addEventListener("input",c),c()}()</script></body></html>