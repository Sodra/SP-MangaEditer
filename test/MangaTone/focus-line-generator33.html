<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>集中線ジェネレーター（中心位置、大きさ、色調整可能）</title><style>body{font-family:Arial,sans-serif;margin:0;padding:10px;display:flex;flex-direction:column;align-items:center;background-color:#f0f0f0}canvas{border:1px solid #000;margin-bottom:10px}.controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin-bottom:10px;width:100%;max-width:600px}.control{display:flex;flex-direction:column;align-items:flex-start}label{margin-bottom:2px;font-size:.9em}.slider-container{display:flex;align-items:center;width:100%}input[type=range]{flex-grow:1;margin-right:5px}.value-display{min-width:35px;text-align:right;font-size:.9em}input[type=color]{width:40px;height:40px;padding:0;border:none}</style></head><body><canvas id="myCanvas" width="500" height="500"></canvas><div class="controls"><div class="control"><label for="lineNum">線の数:</label><div class="slider-container"><input type="range" id="lineNum" min="50" max="500" value="200"> <span id="lineNumValue" class="value-display">200</span></div></div><div class="control"><label for="crMax">最大半径 (%):</label><div class="slider-container"><input type="range" id="crMax" min="1" max="100" value="40"> <span id="crMaxValue" class="value-display">40%</span></div></div><div class="control"><label for="crMin">最小半径 (%):</label><div class="slider-container"><input type="range" id="crMin" min="1" max="100" value="30"> <span id="crMinValue" class="value-display">30%</span></div></div><div class="control"><label for="centerX">中心 X (%):</label><div class="slider-container"><input type="range" id="centerX" min="0" max="100" value="50"> <span id="centerXValue" class="value-display">50%</span></div></div><div class="control"><label for="centerY">中心 Y (%):</label><div class="slider-container"><input type="range" id="centerY" min="0" max="100" value="50"> <span id="centerYValue" class="value-display">50%</span></div></div><div class="control"><label for="lineWidth">線の広がり:</label><div class="slider-container"><input type="range" id="lineWidth" min="1" max="50" value="30"> <span id="lineWidthValue" class="value-display">30</span></div></div><div class="control"><label for="lineColor">線の色:</label> <input type="color" id="lineColor" value="#000000"></div></div><script>var focusLine=function(e,t,n,i,o,c,d,u){var a=e.getContext("2d"),s=[],l=function(e,t){return Math.floor(Math.random()*(e-t))+t},h=function(e,t,n){return Math.cos(Math.PI/180*e)*t+n},m=function(e,t,n){return Math.sin(Math.PI/180*e)*t+n},r=function(){this.initialize()};r.prototype={initialize:function(){this.deg=l(360,0)},setPos:function(){this.moveDeg=this.deg+l(i,1)/10;var o=1+Math.max(Math.abs(t-e.width/2)/(e.width/2),Math.abs(n-e.height/2)/(e.height/2));this.endRadius=l(c,d)*o;var u=Math.max(e.width,e.height)*o;this.startPos={x:h(this.deg,u,t),y:m(this.deg,u,n)},this.movePos={x:h(this.moveDeg,u,t),y:m(this.moveDeg,u,n)},this.endPos={x:h(this.moveDeg,this.endRadius,t),y:m(this.moveDeg,this.endRadius,n)}},update:function(){this.setPos()},draw:function(){a.beginPath(),a.lineWidth=1,a.fillStyle=u,a.moveTo(this.startPos.x,this.startPos.y),a.lineTo(this.movePos.x,this.movePos.y),a.lineTo(this.endPos.x,this.endPos.y),a.fill(),a.closePath()},render:function(){this.update(),this.draw()}},function(e){s=[];for(var t=0;t<e;t++)s[s.length]=new r}(o),function(){var t=0,n=s.length;for(a.clearRect(0,0,e.width,e.height);t<n;t++)s[t].render()}()},cs=document.getElementById("myCanvas"),conf={cx:cs.width/2,cy:cs.height/2,lineWidth:30,lineNum:200,crMax:40,crMin:30,color:"#000000"};function updateFocusLine(){conf.lineNum=parseInt(document.getElementById("lineNum").value),conf.crMax=parseInt(document.getElementById("crMax").value)/100*Math.min(cs.width,cs.height)/2,conf.crMin=parseInt(document.getElementById("crMin").value)/100*Math.min(cs.width,cs.height)/2,conf.cx=parseInt(document.getElementById("centerX").value)/100*cs.width,conf.cy=parseInt(document.getElementById("centerY").value)/100*cs.height,conf.lineWidth=parseInt(document.getElementById("lineWidth").value),conf.color=document.getElementById("lineColor").value,focusLine(cs,conf.cx,conf.cy,conf.lineWidth,conf.lineNum,conf.crMax,conf.crMin,conf.color),document.getElementById("lineNumValue").textContent=conf.lineNum,document.getElementById("crMaxValue").textContent=document.getElementById("crMax").value+"%",document.getElementById("crMinValue").textContent=document.getElementById("crMin").value+"%",document.getElementById("centerXValue").textContent=document.getElementById("centerX").value+"%",document.getElementById("centerYValue").textContent=document.getElementById("centerY").value+"%",document.getElementById("lineWidthValue").textContent=conf.lineWidth}document.getElementById("lineNum").addEventListener("input",updateFocusLine),document.getElementById("crMax").addEventListener("input",updateFocusLine),document.getElementById("crMin").addEventListener("input",updateFocusLine),document.getElementById("centerX").addEventListener("input",updateFocusLine),document.getElementById("centerY").addEventListener("input",updateFocusLine),document.getElementById("lineWidth").addEventListener("input",updateFocusLine),document.getElementById("lineColor").addEventListener("input",updateFocusLine),updateFocusLine()</script></body></html>