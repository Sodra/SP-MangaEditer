<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Comfyui API Setup Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
        }
        .container {
            width: 90%;
            margin: auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        img {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        p, li, code {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
        }
        code {
            display: block;
            background-color: #eee;
            padding: 8px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        strong {
            color: #333;
        }
        .btn-group {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
        }
        .btn-group button {
            margin: 0 5px;
        }
    </style>
    <script src="../../third/i18next/i18next.min.js"></script>
</head>
<body>
    <div class="btn-group" role="group" aria-label="Language switcher">
        <button type="button" class="btn btn-primary" onclick="changeLanguage('en')">English</button>
        <button type="button" class="btn btn-secondary" onclick="changeLanguage('ja')">日本語</button>
        <button type="button" class="btn btn-secondary" onclick="changeLanguage('ko')">한국어</button>
        <button type="button" class="btn btn-secondary" onclick="changeLanguage('zh')">中文</button>
        <button type="button" class="btn btn-secondary" onclick="changeLanguage('fr')">Français</button>
    </div>

    <div class="container">
        <h1 data-i18n="header"></h1>
        <p data-i18n="intro"></p>

        <h2 data-i18n="config_steps"></h2>
        <p data-i18n="config_file_edit"></p>
        <p data-i18n="example_config"></p>
        <img src="Comfyui_API_settings.jpg" width="60%" alt="webui-user.bat settings example" border="2">
        
        <h2 data-i18n="env_variables"></h2>

        <h3 data-i18n="simple_setup"></h3>
        <code data-i18n="simple_code"></code>
        <br>

        <h3>Stability Matrix</h3>
        <p data-i18n="cors_note"></p>
        <img src="comfyui_flux_dev_checkpoint_example.png" width="60%" border="2">
        <img src="comfyui_flux_dev_example.png" width="60%" border="2">
        <img src="comfyui_FLUX1-bnb-NF4.png" width="60%" border="2">
    </div>


    <script>
        const resources = {
            en: {
                translation: {
"title": "Comfyui API Setup Guide",
"header": "How to Configure Comfyui API",
"intro": "This guide explains how to set up the Comfyui API.",
"config_steps": "API Configuration Steps",
"config_file_edit": "Edit 'run_nvidia_gpu.bat' file in the Comfyui folder to set environment variables.",
"example_config": "The configuration file is as follows",
"env_variables": "Environment Variables to Set",
"simple_setup": "Simple Setup",
"simple_code": "--enable-cors-header",
"cors_note": "Note: When launching from Stability Matrix, set this in Extra Launch Arguments."

                               }
            }, 
            ja: {
                translation: {
"title": "Comfyui API セットアップガイド",
"header": "Comfyui APIの設定方法",
"intro": "このガイドではComfyui APIの設定方法を説明します。",
"config_steps": "API設定手順",
"config_file_edit": "Comfyuiフォルダ内の'run_nvidia_gpu.bat'ファイルを編集して環境変数を設定します。",
"example_config": "設定ファイルは以下のとおりです",
"env_variables": "設定する環境変数",
"simple_setup": "簡単な設定",
"simple_code": "--enable-cors-header",
"cors_note": "注意：Stablity Matrixからの起動ではExtra Launch Argumentsに設定してください。"

                }
            }, 
            ko: {
                translation: {
"title": "Comfyui API 설정 가이드",
"header": "Comfyui API 설정 방법",
"intro": "이 가이드는 Comfyui API 설정 방법을 설명합니다.",
"config_steps": "API 설정 단계",
"config_file_edit": "Comfyui 폴더의 'run_nvidia_gpu.bat' 파일에서 환경변수를 설정합니다.",
"example_config": "설정 파일은 다음과 같습니다",
"env_variables": "설정할 환경변수",
"simple_setup": "간단한 설정",
"simple_code": "--enable-cors-header",
"cors_note": "주의: Stability Matrix에서 실행 시 Extra Launch Arguments에 설정하세요."

                                }
            }, 
            zh: {
                translation: {
"title": "Comfyui API 设置指南",
"header": "Comfyui API 设置方法",
"intro": "本指南说明如何设置 Comfyui API。",
"config_steps": "API 设置步骤",
"config_file_edit": "编辑 Comfyui 文件夹中的 'run_nvidia_gpu.bat' 文件以设置环境变量。",
"example_config": "配置文件如下",
"env_variables": "需要设置的环境变量",
"simple_setup": "简单设置",
"simple_code": "--enable-cors-header",
"cors_note": "注意：从 Stability Matrix 启动时，请在 Extra Launch Arguments 中设置。"
                                }
            }, 
            fr: {
                translation: {
"title": "Guide de Configuration API Comfyui",
"header": "Configuration de l'API Comfyui",
"intro": "Ce guide explique comment configurer l'API Comfyui.",
"config_steps": "Étapes de Configuration API",
"config_file_edit": "Modifiez le fichier 'run_nvidia_gpu.bat' dans le dossier Comfyui pour définir les variables d'environnement.",
"example_config": "Le fichier de configuration est comme suit",
"env_variables": "Variables d'Environnement à Définir",
"simple_setup": "Configuration Simple",
"simple_code": "--enable-cors-header",
"cors_note": "Note : Pour le lancement depuis Stability Matrix, définissez ceci dans Extra Launch Arguments."
                }
            }
        };

        document.addEventListener("DOMContentLoaded", function() {
            i18next.init({
                lng: 'en',
                debug: true,
                resources: resources
            }, function(err, t) {
                updateContent();
            });

            window.changeLanguage = function(lng) {
                i18next.changeLanguage(lng, function(err, t) {
                    updateContent();
                });
            };

            function updateContent() {
                document.title = i18next.t('title');
                document.querySelectorAll('[data-i18n]').forEach(function(elem) {
                    elem.textContent = i18next.t(elem.getAttribute('data-i18n'));
                });
            }
        });
    </script>
</body>
</html>
